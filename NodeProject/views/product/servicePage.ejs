<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- css -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- ============= -->
    <!-- <link rel="stylesheet" href="/api/css/pcss/base.css"> -->
    <!-- <link rel="stylesheet" href="/api/css/pcss/vendor.css"> -->
    <link rel="stylesheet" href="/api/css/pcss/main.css">
    <link rel="stylesheet" href="/api/css/pcss/customize.css">
    <link rel="stylesheet" type="text/css" href="/api/css/effect/rgb-wrapper/style.css">
    <link rel="stylesheet" type="text/css" href="/api/css/pcss/service/style.css">
    <link rel="stylesheet" type="text/css" href="/api/css/template/registerTemplate.css">
    <link rel="stylesheet" href="/api/css/effect/radiobtn-effect/radiobtn-loading-time.css">
    <% include ./../tips/cssPackage%>
    <!-- font-->
    <!-- ============= -->
    <!-- script
    ================================================== -->
    <script src="/api/js/pjs/modernizr.js"></script>
    <title>Service | NoobStore</title>
    <!-- favicons
    ================================================== -->
    <link rel="shortcut icon" href="/favicon/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon/favicon.ico" type="image/x-icon">
</head>

<body id="top">
    <!-- preloader
    ================================================== -->
    <div id="preloader">
        <div id="loader" class="dots-jump">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <!-- <header class="top"> -->
    <nav class="navbar navbar-expand-lg py-3 navbar-dark bg-dark shadow-sm">
        <div class="container">
            <a href="./" class="navbar-brand">
                <!-- Logo Image -->
                <img src="./favicon/logo.png" width="100" height="50" alt="" class="d-inline-block align-middle mr-2">
                <!-- Logo Text -->
                <!-- <span class="text-uppercase font-weight-bold">Company</span> -->
            </a>
            <button type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button>
            <div id="navbarSupportedContent" class="collapse navbar-collapse">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a href="./" class="nav-link">Home
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item"><a href="#" class="nav-link">Proxy GrB</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Group Buy</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Services</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Contact</a></li>
                </ul>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ml-auto">
                    <!-- <li class="nav-item">
                        <a href="./" class="nav-link">Home
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item"><a href="#" class="nav-link">Proxy GrB</a></li> -->
                </ul> 
            </div>
        </div>
    </nav>
    <!-- </header> -->
    <nav class="before-breadcrumb" aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="./">Home</a></li>
            <!-- <li class="breadcrumb-item"><a href="#">Library</a></li> -->
            <li class="breadcrumb-item active" aria-current="page">Service</li>
        </ol>
    </nav>
    <section class="seperator-wrapper">
        <div class="seperator gradient">
        </div>
    </section>
    <div class="main-container">
        <div class="col-md-12 text-center">
                <h1 class="w-100">Service Form</h1>
            </div>
        <div class="row">
            <div class="col-lg-5 col-md-12 lube-service">
                <div class="title">
                    <span>Lube Service Form</span>
                </div>
                <div class="form-group">
                        <label class="required_value" for="email">Quantity<span>:</span></label>
                        <input name="lube_quantity" type="tel" value='' id="lube_quantity" maxlength="4">
                </div>
                <div class="form-group">
                        <label for="email">Switch Type:</label>
                        <select class="form-control disabled_searchbar black-input col-md-12 " id="lube_switch_type" name="lube_switch_type">
                            <option value="cherry">Cherry MX & clone</option>
                            <option value="box">KailhBox</option>
                            <option value="albs" disabled>Albs (coming soon)</option>
                        </select>
                </div>
                <div class="form-group">
                        <label for="email">Name Switch:</label>
                            <select class="form-control enable_select2" id="lube_cherry_switch" name="
                        lube_name_switch">
                            <% include ./../tips/service/selectCherryMX%>
                        </select>
                            <select class="form-control enable_select2" id="lube_box_switch" name="
                        lube_name_switch">
                            <% include ./../tips/service/selectKailhbox%>
                        </select>
                </div>
                <div class="form-group">
                        <label for="email">Grease:</label>
                        <select class="form-control enable_select2" id="lube_grease" name="lube_grease">
                            <% include ./../tips/service/selectGrease %>
                        </select>
                </div>
                <div class="form-group">
                    <div class="d-flex">
                        <label for="film">Film:</label>
                        <label for="film" class="btn-radio ml-auto">
                            <input type="checkbox" id="film" name="film" value="add_film" >
                            <svg width="20px" height="20px" viewBox="0 0 20 20">
                                <circle cx="10" cy="10" r="9"></circle>
                                <path d="M10,7 C8.34314575,7 7,8.34314575 7,10 C7,11.6568542 8.34314575,13 10,13 C11.6568542,13 13,11.6568542 13,10 C13,8.34314575 11.6568542,7 10,7 Z" class="inner"></path>
                                <path d="M10,1 L10,1 L10,1 C14.9705627,1 19,5.02943725 19,10 L19,10 L19,10 C19,14.9705627 14.9705627,19 10,19 L10,19 L10,19 C5.02943725,19 1,14.9705627 1,10 L1,10 L1,10 C1,5.02943725 5.02943725,1 10,1 L10,1 Z" class="outer"></path>
                            </svg>
                        <span>Yes</span>
                        </label>
                    </div>
                    <select class="form-control enable_select2" id="lube_film_color" name="lube_film_color">
                        <% include ./../tips/service/selectFilm %>
                        </select>
                </div>
                <div class="form-group">
                        <div class="d-flex">
                            <label for="spring">Spring:</label>
                            <label for="spring" class="btn-radio ml-auto">
                                <input type="checkbox" id="spring" name="spring" value="add_spring" >
                                <svg width="20px" height="20px" viewBox="0 0 20 20">
                                    <circle cx="10" cy="10" r="9"></circle>
                                    <path d="M10,7 C8.34314575,7 7,8.34314575 7,10 C7,11.6568542 8.34314575,13 10,13 C11.6568542,13 13,11.6568542 13,10 C13,8.34314575 11.6568542,7 10,7 Z" class="inner"></path>
                                    <path d="M10,1 L10,1 L10,1 C14.9705627,1 19,5.02943725 19,10 L19,10 L19,10 C19,14.9705627 14.9705627,19 10,19 L10,19 L10,19 C5.02943725,19 1,14.9705627 1,10 L1,10 L1,10 C1,5.02943725 5.02943725,1 10,1 L10,1 Z" class="outer"></path>
                                </svg>
                            <span>Yes</span>
                            </label>
                        </div>
                        <select class="form-control enable_select2" id="lube_cherry_spring_force" name="lube_spring_force">
                            <% include ./../tips/service/selectCherrySpring %>
                        </select>
                        <select class="form-control enable_select2" id="lube_box_spring_force" name="lube_spring_force">
                            <% include ./../tips/service/selectKailhboxSpring %>
                        </select>
                        
                </div>
                <small class="form-text text-center note-check-box">If you already have, please check the box.</small>        

                <div class="form-group d-flex m-0">
                        <label for="">Film, Have not?:</label>
                            <label for="have_film" class="btn-radio ml-auto">
                            <!-- <input type="radio" id="rdo-1" name="radio-grp"> -->
                            <input type="checkbox" id="have_film" name="have_film" value="have_film" >
                            <svg width="20px" height="20px" viewBox="0 0 20 20">
                                <circle cx="10" cy="10" r="9"></circle>
                                <path d="M10,7 C8.34314575,7 7,8.34314575 7,10 C7,11.6568542 8.34314575,13 10,13 C11.6568542,13 13,11.6568542 13,10 C13,8.34314575 11.6568542,7 10,7 Z" class="inner"></path>
                                <path d="M10,1 L10,1 L10,1 C14.9705627,1 19,5.02943725 19,10 L19,10 L19,10 C19,14.9705627 14.9705627,19 10,19 L10,19 L10,19 C5.02943725,19 1,14.9705627 1,10 L1,10 L1,10 C1,5.02943725 5.02943725,1 10,1 L10,1 Z" class="outer"></path>
                            </svg>
                            <b>Yes</b>
                            </label>
                </div>
                <div class="form-group d-flex m-0">
                        <label for="">Spring, Have not?:</label>
                            <label for="have_spring" class="btn-radio ml-auto">
                            <input type="checkbox" id="have_spring" name="have_spring" value="have_spring" >
                            <svg width="20px" height="20px" viewBox="0 0 20 20">
                                <circle cx="10" cy="10" r="9"></circle>
                                <path d="M10,7 C8.34314575,7 7,8.34314575 7,10 C7,11.6568542 8.34314575,13 10,13 C11.6568542,13 13,11.6568542 13,10 C13,8.34314575 11.6568542,7 10,7 Z" class="inner"></path>
                                <path d="M10,1 L10,1 L10,1 C14.9705627,1 19,5.02943725 19,10 L19,10 L19,10 C19,14.9705627 14.9705627,19 10,19 L10,19 L10,19 C5.02943725,19 1,14.9705627 1,10 L1,10 L1,10 C1,5.02943725 5.02943725,1 10,1 L10,1 Z" class="outer"></path>
                            </svg>
                            <b>Yes</b>
                            </label>
                </div>
                <div class="form-group">
                        <label for="lube_relsease_time">EST Time:</label>
                        <select class="form-control disabled_searchbar" id="lube_relsease_time" name="lube_relsease_time">
                            <% include ./../tips/service/selectESTime %>
                        </select>
                </div>
                <div class="form-group">
                        <label for="specs">Note:</label>
                        <textarea id="specs" name="specs" type="text" style="resize: none;" class="form-control min-h-10rem" placeholder="Note your requirement"></textarea>
                </div>
                <div class="separator">Order Details</div>
                <div class="form-group d-flex" id="price-accessories">
                        <!-- <label for="email">Price Accessories</label> -->
                        <span class="text-details">
                            <strong>Price Accessories:</strong>
                        </span>
                        <span class="t-right d-block">0 VND</span>
                </div>
                <div class="form-group d-flex" id="price-service">
                        <!-- <label for="email">Price Service</label> -->
                        <span class="text-details">
                            <strong>Price Service:</strong>
                        </span>
                        <span class="t-right d-block">0 VND</span>
                </div>
                <hr>
                <div class="form-group d-flex" id="total-price">
                        <!-- <label for="email">Total</label> -->
                        <span class="text-details font-b">
                            <strong>Total:</strong>
                        </span>
                        <span class="t-right fw-500 d-block">0 VND</span>
                </div>
            </div>

            <div class="col-lg-5 col-md-12 assemble-service">
                
            </div>
            
        </div>
    </div>
    <footer>
            <div class="col-full ss-copyright">
                <span>© Copyright Noobteam 2017</span>
                <span>Design by <a href="https://www.facebook.com/noobassembly">Noobteam</a></span>
            </div>
    </footer>
</body>
<% include ./../tips/jsPackage %>
<!-- <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> -->
<!-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script> -->
<script src="/api/js/pjs/main.js"></script>
<script src='https://www.google.com/recaptcha/api.js'></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
<script>
$(document).ready(function() {
    var type_sw, cherry_spring, box_spring, cherry_name_switch, box_name_switch, add_spring;
    var checkbox_film, checkbox_spring;
    var checkbox_add_film, checkbox_add_spring;
    var price_accessories = 0;
    var price_service = 0;
    var current_price_film = 150000;
    var current_price_spring = 180000;
    var price_service_with_accessories = 6000;
    var price_service_without_accessories = 5000;
    $('.disabled_searchbar').select2({
        minimumResultsForSearch: Infinity
    })
    $('.enable_select2').select2();
    $('#lube_quantity').on('input', function() {
        this.value = this.value
            .replace(/[^\d]/g, ''); // numbers and decimals only
    });
    $('#email').on('keypress', function(e) {
        if (e.which == 32) {
            return false;
        }
    });
    
    cherry_name_switch = $('#lube_cherry_switch')
    cherry_name_switch.next(".select2-container").hide()

    box_name_switch = $('#lube_box_switch')
    box_name_switch.next(".select2-container").hide()

    cherry_spring = $('#lube_cherry_spring_force')
    cherry_spring.next(".select2-container").hide()

    box_spring = $('#lube_box_spring_force')
    box_spring.next(".select2-container").hide()
    

    $("#lube_film_color").next(".select2-container").hide()
    $("#lube_switch_type").each(function() {
       type_sw = $('#lube_switch_type').val();
        if(type_sw == 'cherry'){
            cherry_name_switch.next(".select2-container").show();
        }
    });
    $(document).on('change', '#lube_switch_type', function(){
        type_sw = $(this).val();
        add_spring = $("input[name='spring']:checked").val()
        if(type_sw == 'cherry'){
            cherry_name_switch.next(".select2-container").show();
            box_name_switch.next(".select2-container").hide();
            if(add_spring == "add_spring"){
                cherry_spring.next(".select2-container").show();
                box_spring.next(".select2-container").hide();
            }else{
                box_spring.next(".select2-container").hide();
                cherry_spring.next(".select2-container").hide();
            }
        }else if(type_sw == 'box'){
            cherry_name_switch.next(".select2-container").hide();
            box_name_switch.next(".select2-container").show();
            if(add_spring == "add_spring"){
                cherry_spring.next(".select2-container").hide();
                box_spring.next(".select2-container").show();
            }else{
                box_spring.next(".select2-container").hide();
                cherry_spring.next(".select2-container").hide();
            }
        }else if(type_sw == 'albs'){

        }else{

        }
    })
    checkbox_film = $("#film").val();
    checkbox_spring = $("#spring").val();
    checkbox_add_spring = $("#have_film").val();
    checkbox_add_spring = $("#have_spring").val();

    $(document).on('change', '#have_film', function(){

    })
    $(document).on('change', '#have_spring', function(){

    })
    $("#have_film").click(function() {

        var radioValue = $("input[name='have_film']:checked").val();
        if (radioValue == 'have_film') {
           calcPrice()
        } else{
           calcPrice()
        }
    });

    $("#have_spring").click(function() {

        var radioValue = $("input[name='have_spring']:checked").val();
        if (radioValue == 'have_spring') {
           calcPrice()
        } else{
           calcPrice()
        }
    });

    $("#film").click(function() {

        var radioValue = $("input[name='film']:checked").val();
        if (radioValue == 'add_film') {
           $("#lube_film_color").next(".select2-container").show()
           // price_accessories = price_film
           calcPrice()
        } else{
           $("#lube_film_color").next(".select2-container").hide()
           // price_accessories = 0;
           calcPrice()
        }
    });
    $("#spring").click(function() {

        var radioSpringValue = $("input[name='spring']:checked").val();
        var radioTypeSwitchValue = $("#lube_switch_type").val();
        if (radioSpringValue == 'add_spring') {
            // price_accessories = price_spring
            calcPrice()
            if(radioTypeSwitchValue == 'cherry'){
                $("#lube_cherry_spring_force").next(".select2-container").show();
                $("#lube_box_spring_force").next(".select2-container").hide();

            }else if(radioTypeSwitchValue == 'box'){
                $("#lube_cherry_spring_force").next(".select2-container").hide();
                $("#lube_box_spring_force").next(".select2-container").show();
            }
        } else{
            // price_accessories = 0
            calcPrice()
            $("#lube_cherry_spring_force").next(".select2-container").hide();
            $("#lube_box_spring_force").next(".select2-container").hide();
        }
    });

    $(document).on('change', '#lube_quantity', function(){
        calcPrice();
        // var quantitySwitch = $(this).val()
        // price_service = quantitySwitch * price_service_without_accessories;
        // price_accessories;
        // total_price = price_service + price_accessories
        // var formatPriceService = new Intl.NumberFormat('vn-VN', { style: 'currency', currency: 'VND' }).format(price_service)
        // var formatPriceAccessories = new Intl.NumberFormat('vn-VN', { style: 'currency', currency: 'VND' }).format(price_accessories)
        // var formatPriceTotal = new Intl.NumberFormat('vn-VN', { style: 'currency', currency: 'VND' }).format(total_price)
        // $('#price-service .t-right').html(formatPriceService)
        // $('#price-accessories .t-right').html(formatPriceAccessories)
        // $("#total-price .t-right").html(formatPriceTotal)


    })
    

    var switchType, switchName, greaseName, filmColor, springForce;
    var addFilm, addSrping, haveFilm, haveSpring;
    var estTime, note;
    var switchQuantity = 0;
    var priceService = 0;
    var priceAccessories = 0;
    var priceTotal = 0;
    var formatPriceService, formatPriceAccessories, formatPriceTotal;
    var priceFilm, priceSpring

    var calcPrice = function(){
        // Input params
        switchQuantity = $("#lube_quantity").val();
        addFilm = $("input[name='film']:checked").val();
        addSpring = $("input[name='spring']:checked").val();


        if(addFilm == 'add_film'){
            priceFilm = current_price_film
        }else{
            priceFilm = 0
        }
        if(addSpring == 'add_spring'){
            priceSpring = current_price_spring
        }else{
            priceSpring = 0
        }
        haveFilm = $("input[name='have_film']:checked").val();
        haveSpring = $("input[name='have_spring']:checked").val();
        // if(haveFilm == 'have_film'){
            
        // }else{

        // }
        // if(haveSpring == 'have_spring'){

        // }else{
            
        // }
        // Calc Price
        if(addFilm || addSpring){
            price_service = switchQuantity * price_service_with_accessories;
        }else{
            price_service = switchQuantity * price_service_without_accessories;
        }
        price_accessories = priceFilm + priceSpring
        total_price = price_service + price_accessories
        // Format Price
        formatPriceService = new Intl.NumberFormat('vn-VN', { style: 'currency', currency: 'VND' }).format(price_service)
        formatPriceAccessories = new Intl.NumberFormat('vn-VN', { style: 'currency', currency: 'VND' }).format(price_accessories)
        formatPriceTotal = new Intl.NumberFormat('vn-VN', { style: 'currency', currency: 'VND' }).format(total_price)
        // Show Price
        $('#price-service .t-right').html(formatPriceService)
        $('#price-accessories .t-right').html(formatPriceAccessories)
        $("#total-price .t-right").html(formatPriceTotal)
    }


    
})
</script>

</html>