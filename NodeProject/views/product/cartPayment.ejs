<!DOCTYPE html>
<html>
  <head>
    <title>NoobStore</title>
    <!-- Meta tag -->
    <% include ./../tips/subs/meta %>
    <!-- Library -->
    <link rel="stylesheet" href="/share/bootstrap/css/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="/package/lightslider/src/css/lightslider.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="/api/css/pcss/line-awesome-1.3.0/css/line-awesome.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css"
    />
    <link rel="stylesheet" type="text/css" href="/package/slick/slick.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="/package/slick/slick-theme.css"
    />
    <link href="/share/select2/select2.min.css" rel="stylesheet" />
    <link href="/share/aos/aos.css" rel="stylesheet" />
    <!-- Loading effect -->
    <link
      rel="stylesheet"
      type="text/css"
      href="/api/css/effect/preload/preload-signal.css"
    />
    <!-- Base css -->
    <link rel="stylesheet" type="text/css" href="/api/css/base/font.css" />
    <link rel="stylesheet" type="text/css" href="/api/css/base/main.css" />
    <link rel="stylesheet" type="text/css" href="/api/css/base/footer.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="/api/css/base/breadcrumb.css"
    />
    <link rel="stylesheet" type="text/css" href="/api/css/base/navbar.css" />
    <!-- Customize CSS -->
    <link rel="stylesheet" href="/product/css/cartPayment/style.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="/api/css/effect/rgb-wrapper/style.css"
    />
    <!-- Favicon -->
    <link rel="shortcut icon" href="/favicon/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="/favicon/favicon.ico" type="image/x-icon" />
    <script src="/api/js/pjs/modernizr.js"></script>
    <script
      src="https://kit.fontawesome.com/b9b5f5dad8.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <% include ./../tips/effect/preload-signal %>
    <div id="main-container">
      <% include ./../tips/subs/sample-navbar %>
      <div id="content-container" class="container py-4">
        <div class="row g-5 m-0" id="row-container">
          <div class="col-12 col-md-7">
            <form class="overflow-hidden">
              <ul id="progressbar" class="d-flex">
                <li
                  id="shipping-address"
                  class="d-flex flex-column align-items-center slide-active-tab"
                >
                  <span>Delivery Information</span>
                </li>
                <li
                  id="payment-select"
                  class="d-flex flex-column align-items-center"
                >
                  <span>Payment</span>
                </li>
                <li
                  id="summary-finish"
                  class="d-flex flex-column align-items-center"
                >
                  <span>Finish</span>
                </li>
              </ul>
              <div class="col-12 slide-form-content">
                <fieldset class="col-12 slide-form-item">
                  <div
                    id="contact-w-shipping"
                    data-id="1"
                    data-title="shipping-address"
                  >
                    <div class="pt-2 pb-3">
                      <div
                        class="d-flex justify-content-between align-items-center label-border"
                      >
                        <span class="font-title">Delivery information</span>
                        <span class="my-auto"
                          >Already have an account?
                          <a href="/register">Login now !</a></span
                        >
                      </div>

                      <div class="mt-3">
                        <div
                          id="form-group-input-email-phone-no"
                          class="position-relative form-group mb-2"
                        >
                          <label class="position-absolute"
                            >Email or mobile phone number</label
                          >
                          <input
                            id="input-email-phone-no"
                            class="w-100"
                            type="email"
                            name="email"
                            placeholder="Email or mobile phone number"
                          />
                        </div>
                        <input
                          id="checkbox-noti"
                          class="me-1"
                          type="checkbox"
                        /><label for="checkbox-noti"
                          >Email me with news and offers</label
                        >
                      </div>
                    </div>
                    <div
                      class="d-flex justify-content-start align-items-center label-border"
                    >
                      <span class="font-title">Shipping address</span>
                    </div>
                    <div class="child-w-100">
                      <select
                        class="select2 p-2 my-2"
                        data-placeholder="Country/region"
                      >
                        <option
                          value="vietnam"
                          data-image="/docs/logo/region/vietnam.svg"
                        >
                          Vietnam
                        </option>
                        <option
                          value="global"
                          data-image="/docs/logo/region/global.svg"
                        >
                          Global
                        </option>
                      </select>
                      <div class="d-flex child-w-100 my-3">
                        <div
                          id="form-group-input-first-name"
                          class="position-relative form-group pe-2"
                        >
                          <label class="position-absolute">First name</label>
                          <input
                            id="input-first-name"
                            type="text"
                            name="fname"
                            placeholder="First name"
                          />
                        </div>
                        <div
                          id="form-group-input-last-name"
                          class="position-relative form-group"
                        >
                          <label class="position-absolute">Last name</label>
                          <input
                            id="input-last-name"
                            type="text"
                            name="lname"
                            placeholder="Last name"
                          />
                        </div>
                      </div>
                      <div
                        id="form-group-input-company"
                        class="position-relative form-group"
                      >
                        <label class="position-absolute my-2"
                          >Company (optional)</label
                        >
                        <input
                          id="input-company"
                          class="my-2"
                          type="text"
                          name="company"
                          placeholder="Company (optional)"
                        />
                      </div>
                      <div
                        id="form-group-input-address"
                        class="position-relative form-group"
                      >
                        <label class="position-absolute my-2">Address</label>
                        <input
                          id="input-address"
                          class="my-2"
                          type="text"
                          name="address"
                          placeholder="Address"
                        />
                      </div>
                      <div
                        id="form-group-input-apartment"
                        class="position-relative form-group"
                      >
                        <label class="position-absolute my-2"
                          >Apartment, suite, etc. (optional)</label
                        >
                        <input
                          id="input-apartment"
                          class="my-2"
                          type="text"
                          name=""
                          placeholder="Apartment, suite, etc. (optional)"
                        />
                      </div>
                      <div class="d-flex child-w-100 my-2">
                        <div
                          id="form-group-input-post-code"
                          class="position-relative form-group pe-2"
                        >
                          <label class="position-absolute">Post code</label>
                          <input
                            id="input-post-code"
                            type="text"
                            name="zip_code"
                            placeholder="Postal code"
                          />
                        </div>
                        <div
                          id="form-group-input-city"
                          class="position-relative form-group"
                        >
                          <label class="position-absolute">City</label>
                          <input
                            id="input-city"
                            type="text"
                            name="country"
                            placeholder="City"
                          />
                        </div>
                      </div>
                      <div
                        id="form-group-input-phone"
                        class="position-relative form-group"
                      >
                        <label class="position-absolute my-2">Phone</label>
                        <input
                          id="input-phone"
                          class="my-2"
                          type="phone"
                          name="phone_number"
                          placeholder="Phone"
                        />
                      </div>
                      <div class="d-flex align-items-center mt-1">
                        <input id="save-info" class="me-1" type="checkbox" />
                        <label for="save-info"
                          >Save this information for next time</label
                        >
                      </div>
                    </div>
                    <div id="btn-area" class="mt-4">
                      <div>
                        <a
                          class="text-decoration-none ms-2 text-right"
                          href="/shop"
                          ><i class="las la-undo"></i>Return to shop</a
                        >
                      </div>
                      <button type="button" class="btn-next-step">
                        Next step
                      </button>
                    </div>
                  </div>
                </fieldset>
                <fieldset class="col-12 slide-form-item">
                  <div
                    id="payment-form"
                    data-id="2"
                    data-title="payment-select"
                  >
                    <div
                      class="d-flex justify-content-between align-items-center label-border"
                    >
                      <span class="font-title">Delivery information</span>
                    </div>
                    <div class="child-w-100 payment-method">
                      <select
                        class="select2-payment-method p-2 my-2"
                        data-placeholder="Payment method"
                      >
                        <option
                          value="local_bank"
                          data-image="/docs/logo/payment-method/credit-card.svg"
                        >
                          Bank Card
                        </option>
                        <option
                          value="cod"
                          data-image="/docs/logo/payment-method/cod.svg"
                        >
                          COD
                        </option>
                        <option
                          value="momo"
                          data-image="/docs/logo/payment-method/momo.svg"
                        >
                          Momo
                        </option>
                        <option
                          value="paypal"
                          data-image="/docs/logo/payment-method/paypal.svg"
                        >
                          Paypal
                        </option>
                      </select>
                      <div
                        id="form-group-text-area-note"
                        class="position-relative form-group"
                      >
                        <label class="position-absolute my-2">Note</label>
                        <textarea
                          style="padding: 10px"
                          id="text-area-note"
                          name="w3review"
                          rows="4"
                          class="w-100"
                          placeholder="note something..."
                        ></textarea>
                      </div>
                    </div>
                    <div
                      id="btn-area"
                      class="mt-4 d-flex justify-content-between"
                    >
                      <button type="button" class="btn-prev-step">
                        Prev step
                      </button>
                      <button type="button" class="btn-next-step">
                        Next step
                      </button>
                    </div>
                  </div>
                </fieldset>
                <fieldset class="col-12 slide-form-item">
                  <div
                    id="finish-fieldset"
                    data-id="3"
                    data-title="summary-finish"
                    class="d-flex label-border"
                  >
                    <span class="font-title">Finish Information</span>
                    <div
                      id="btn-area"
                      class="mt-4 d-flex justify-content-between"
                    >
                      <button type="button" class="btn-prev-step">
                        Prev step
                      </button>
                      <button type="button" class="btn">Submit</button>
                    </div>
                  </div>
                </fieldset>
              </div>
            </form>
          </div>
          <div class="col-12 col-md-5">
            <% const currentCart = localStorage.getItem('cart') ?
            JSON.parse(localStorage.getItem('cart')) : [] %> <% let totalItem =
            currentCart.length > 0 ?
            currentCart.map(item=>item.product_quantity).reduce((prev, start) =>
            prev + start) : 0; let subTotal = 0; if(currentCart.length > 0){
            subTotal += currentCart.map((item)=>item.product_price*
            item.product_quantity).reduce((prev, start) => prev + start) }; let
            tax = 0; let discount = 0; var rates = { EUR: moneyRate.eur, GBP:
            moneyRate.gbp, USD: moneyRate.usd, VND: moneyRate.vnd, } %>
            <div id="cart-w-payment">
              <nav
                id="navbar-cart-container"
                class="navbar navbar-expand-lg py-2 navbar-dark shadow-sm position-sticky top-0"
              >
                <button
                  type="button"
                  data-toggle="collapse"
                  data-target="#navbarCartItem"
                  aria-controls="navbarCartItem"
                  aria-expanded="false"
                  aria-label="Toggle navigation"
                  class="navbar-toggler"
                >
                  <span class="navbar-toggler-icon"></span>
                  <span>Show order</span>
                  <span style="display: none">Hide order</span>
                </button>
                <div id="navbar-total-price" class="me-2 fs-5 text-truncate">
                  <%= new Intl.NumberFormat('en-IN', {style: 'currency',
                  currency: 'USD'}).format(subTotal + tax) %> ~ <%= new
                  Intl.NumberFormat('vi-VN', {style: 'currency', currency:
                  'VND'}).format((subTotal + tax)*rates.VND) %>
                </div>
                <div id="navbarCartItem" class="collapse navbar-collapse">
                  <div
                    class="d-flex justify-content-start align-items-center label-border"
                  >
                    <div class="font-title-loader">
                      <span>Summary Order</span>
                    </div>
                  </div>
                  <div id="item-list">
                    <table class="w-100" id="table-item-list">
                      <tbody>
                        <% for (var i = 0; i < currentCart.length; i++) { -%>
                        <tr>
                          <td class="p-1">
                            <div class="item-image">
                              <img
                                onerror="this.onerror=null; this.src='/api/docs/trash/image-not-found_768.png'"
                                src="/api/<%= currentCart[i].product_image%>"
                              />
                              <span class="item-quantity"
                                ><%= currentCart[i].product_quantity%></span
                              >
                            </div>
                          </td>
                          <th class="item-name pt-2 ps-2">
                            <%= currentCart[i].product_name%>
                          </th>
                          <td class="item-price pt-2 ps-2">
                            <%= new Intl.NumberFormat('en-IN', {style:
                            'currency', currency:
                            'USD'}).format(currentCart[i].product_price) %>
                          </td>
                        </tr>
                        <tr class="separator" colspan="2"></tr>
                        <% } -%>
                      </tbody>
                    </table>
                  </div>
                  <div id="discount-input" class="p-2">
                    <div class="form-underline mb-3"></div>
                    <div
                      id="form-group-input-voucher-code"
                      class="position-relative form-group w-100 d-flex justify-content-between align-items-center"
                    >
                      <label class="position-absolute my-2"
                        >Gift cart or discount code</label
                      >
                      <input
                        id="input-voucher-code"
                        class="my-2"
                        type="text"
                        name="voucher_code"
                        placeholder="Gift cart or discount code"
                      />
                      <button class="">Apply</button>
                    </div>
                  </div>
                  <div id="payment-detail">
                    <table class="w-100" id="table-payment-detail">
                      <tbody>
                        <tr class="form-underline"></tr>
                        <tr class="separator" colspan="2"></tr>
                        <tr>
                          <td>Items:</td>
                          <td>
                            <% currentCart.length > 0 ? totalItem : 0 %> <%=
                            Number(totalItem) || 0 %>
                          </td>
                        </tr>
                        <tr>
                          <td>Handle & Shipping:</td>
                          <td>Calculated at next step</td>
                        </tr>
                        <tr>
                          <td>Tax:</td>
                          <td>
                            <%= tax == 0 ? 'Free' : new
                            Intl.NumberFormat('en-IN', {style: 'currency',
                            currency: 'USD'}).format(tax) %>
                          </td>
                        </tr>
                        <tr>
                          <td>Discount:</td>
                          <td>
                            <div class="ms-auto">
                              <%= discount == 0 ? '$0' : '-' + new
                              Intl.NumberFormat('en-IN', {style: 'currency',
                              currency: 'USD'}).format(discount) %>
                            </div>
                          </td>
                        </tr>
                        <tr>
                          <td>Subtotal:</td>
                          <td>
                            <% currentCart.length > 0 ? subTotal : 0%> <%= new
                            Intl.NumberFormat('en-IN', {style: 'currency',
                            currency: 'USD'}).format(subTotal) %>
                          </td>
                        </tr>
                        <tr class="separator" colspan="2"></tr>
                        <tr class="form-underline-dashed"></tr>
                        <tr class="separator" colspan="2"></tr>
                        <tr>
                          <td>Total:</td>
                          <td style="color: var(--text-finale-color)">
                            <%= new Intl.NumberFormat('en-IN', {style:
                            'currency', currency: 'USD'}).format(subTotal + tax
                            - discount) %> ~ <%= new Intl.NumberFormat('vi-VN',
                            {style: 'currency', currency:
                            'VND'}).format((subTotal + tax -
                            discount)*rates.VND) %>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
    <%include ./../tips/subs/sample-footer%>
  </body>
  <script src="/share/jquery/jquery-3.6.0.min.js"></script>
  <script src="/share/popperjs/popper.min.js"></script>
  <script src="/share/bootstrap/js/bootstrap.min.js"></script>
  <script src="/share/select2/select2.min.js"></script>
  <script src="/share/slickjs/slick.min.js"></script>
  <script src="/share/aos/aos.js"></script>
  <script src="/package/lightslider/src/js/lightslider.js"></script>
  <script src="/share/zooming/zooming.js"></script>
  <script src="/api/js/pjs/main.js"></script>
  <script src="/api/js/moneyExchange/money.min.js"></script>
  <script src="/api/js/pjs/product/cartPayment/js.js"></script>
</html>
